plugins {
    id 'java'
    id 'maven'
    id 'application'
    id 'org.jetbrains.kotlin.jvm' version '1.4.0'
    id 'com.github.johnrengelman.shadow' version '4.0.4'
}

group = 'ink.ptms.apigen'
version = '1.0.0'

sourceCompatibility = '1.8'
targetCompatibility = '1.8'

shadowJar {
    mainClassName = 'ink.ptms.apigen.Launcher'
    dependencies {
        include dependency('org.ow2.asm:asm:.+')
        include dependency('org.ow2.asm:asm-commons:.+')
        include dependency('org.jetbrains.kotlin:kotlin-stdlib')
    }
}

repositories {
    mavenCentral()
}

dependencies {
    implementation "org.ow2.asm:asm:+"
    implementation "org.ow2.asm:asm-commons:+"
    implementation 'org.jetbrains.kotlin:kotlin-stdlib'
    implementation fileTree(dir: 'libs', includes: ['*.jar'])
}

compileKotlin {
    kotlinOptions {
        jvmTarget = "1.8"
    }
}

compileTestKotlin {
    kotlinOptions {
        jvmTarget = "1.8"
    }
}